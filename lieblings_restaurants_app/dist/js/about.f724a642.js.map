{"version":3,"sources":["webpack:///./src/views/Restaurants.vue?bc41","webpack:///src/views/Restaurants.vue","webpack:///./src/views/Restaurants.vue?6b06","webpack:///./src/views/Restaurants.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","snackbarInfo","showSnackbar","snackbarColor","on","close","_l","restaurant","key","id","staticClass","domProps","_s","name","_v","cuisine","city","_e","$event","routeTo","staticRenderFns","component","VBtn","VCard","VCardActions","VCardSubtitle","VCardTitle","VCol","VContainer","VDivider","VIcon","VRow","VSpacer"],"mappings":"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","file":"js/about.f724a642.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('infoSnackbar',{attrs:{\"message\":_vm.snackbarInfo,\"showSnackbar\":_vm.showSnackbar,\"color\":_vm.snackbarColor},on:{\"closeSnackbar\":_vm.close}}),_c('v-row',{attrs:{\"dense\":\"\"}},[(_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('loading',{attrs:{\"message\":\"Restaurants werden geladen\"}})],1):_vm._l((_vm.filteredRestaurants),function(restaurant){return _c('v-col',{key:restaurant.id,attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-card',{staticClass:\"ma-3\",attrs:{\"elevation\":\"1\"}},[_c('v-card-title',{staticClass:\"primary--text text--darken-2\",domProps:{\"textContent\":_vm._s(restaurant.name)}}),_c('v-divider'),_c('v-card-subtitle',[_c('p',[_c('v-icon',[_vm._v(\"fa-cutlery\")]),_vm._v(\" \"+_vm._s(restaurant.cuisine))],1),_c('p',[_c('v-icon',[_vm._v(\"fa-map-marker\")]),_vm._v(\" \"+_vm._s(restaurant.city))],1),(restaurant.food_orderable)?_c('p',[_c('v-icon',[_vm._v(\"fa-shopping-basket\")]),_vm._v(\" Essen kann bestellt und geholt werden\")],1):_vm._e()]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text--darken-2\",attrs:{\"outlined\":\"\",\"fab\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.routeTo(restaurant.id)}}},[_c('v-icon',[_vm._v(\"fa-info\")])],1)],1)],1)],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <infoSnackbar :message=\"snackbarInfo\" :showSnackbar=\"showSnackbar\" :color=\"snackbarColor\" @closeSnackbar=\"close\"></infoSnackbar>\r\n        <v-row dense>            \r\n            <v-col \r\n              cols=\"12\"\r\n              v-if=\"loading\"\r\n            >\r\n                <loading message=\"Restaurants werden geladen\"></loading>\r\n            </v-col>\r\n            <v-col\r\n                v-for=\"restaurant in filteredRestaurants\" :key=\"restaurant.id\"\r\n                cols=\"12\" sm=\"6\" md=\"4\"\r\n                v-else>                \r\n                <v-card elevation=\"1\" class=\"ma-3\">\r\n                    <v-card-title class=\"primary--text text--darken-2\" v-text=\"restaurant.name\"></v-card-title>\r\n                    <v-divider></v-divider>\r\n                    <v-card-subtitle>\r\n                       <p><v-icon>fa-cutlery</v-icon> {{ restaurant.cuisine }}</p> \r\n                        <p><v-icon>fa-map-marker</v-icon> {{ restaurant.city }}</p>\r\n                        <p v-if=\"restaurant.food_orderable\"><v-icon>fa-shopping-basket</v-icon> Essen kann bestellt und geholt werden</p> \r\n                    </v-card-subtitle>\r\n                    <v-card-actions>\r\n                        <v-spacer></v-spacer>\r\n                        <v-btn outlined fab small color=\"primary\" class=\"text--darken-2\" @click=\"routeTo(restaurant.id)\">\r\n                        <v-icon>fa-info</v-icon>\r\n                        </v-btn>\r\n                    </v-card-actions>\r\n                </v-card>\r\n            </v-col>\r\n        </v-row>\r\n    </v-container>    \r\n</template>\r\n<script>\r\n// @ is an alias to /src\r\nimport api from \"@/api/restaurants\"\r\nimport Loading from \"@/components/Loading\"\r\nimport InfoSnackbar from \"@/components/InfoSnackbar\"\r\n\r\nexport default {\r\n    components: {\r\n        Loading,\r\n        InfoSnackbar\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            restaurants: [],\r\n            loading: false,\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.fetchData()\r\n    },\r\n\r\n    computed: {\r\n        filteredRestaurants() {\r\n            let cuisines = this.$store.getters.selectedCuisines\r\n            let cities = this.$store.getters.selectedCities\r\n            if (cuisines.length > 0 && cities.length == 0) {\r\n                return this.checkFoodOrderable(this.restaurants.filter(restaurant => cuisines.includes(restaurant.cuisine)))\r\n            } else if (cuisines.length == 0 && cities.length > 0) {\r\n                return this.checkFoodOrderable(this.restaurants.filter(restaurant => cities.includes(restaurant.city)))\r\n            } else if (cuisines.length > 0 && cities.length > 0) {\r\n                return this.checkFoodOrderable(this.restaurants.filter(restaurant => cuisines.includes(restaurant.cuisine) && cities.includes(restaurant.city)))\r\n            }else {\r\n                return this.checkFoodOrderable(this.restaurants)\r\n            } \r\n        },\r\n        showSnackbar() {\r\n            return this.$store.getters.showSnackbar\r\n        },\r\n        snackbarInfo() {\r\n            return this.$store.getters.snackbarInfo\r\n        },\r\n        snackbarColor() {\r\n            return this.$store.getters.snackbarColor\r\n        }        \r\n    },\r\n\r\n    methods: {\r\n        fetchData() {\r\n            this.loading = true\r\n\r\n            if(this.isOnline) {\r\n                api.all()\r\n                .then(response => {\r\n                    this.restaurants = response.data.restaurants.sort((a,b)=> (a.name > b.name ? 1 : -1))\r\n                    this.$offlineStorage.set('restaurants', this.restaurants)\r\n                    let cuisines = this.restaurants.map(restaurant => restaurant.cuisine)\r\n                    let uniquecuisines = cuisines.filter((item, index) => cuisines.indexOf(item) == index)\r\n                    this.$store.commit(\"setCuisines\", uniquecuisines)   \r\n                    let cities = this.restaurants.map(restaurant => restaurant.city)\r\n                    let uniquecities = cities.filter((item, index) => cities.indexOf(item) == index)\r\n                    this.$store.commit(\"setCities\", uniquecities)\r\n                    this.loading = false\r\n                })\r\n                .catch((error) => {\r\n                    this.loading = false\r\n                    console.log(error);\r\n                })\r\n            } else {\r\n                this.restaurants = this.$offlineStorage.get('restaurants')\r\n                let cuisines = this.restaurants.map(restaurant => restaurant.cuisine)\r\n                let uniquecuisines = cuisines.filter((item, index) => cuisines.indexOf(item) == index)\r\n                this.$store.commit(\"setCuisines\", uniquecuisines)   \r\n                let cities = this.restaurants.map(restaurant => restaurant.city)\r\n                let uniquecities = cities.filter((item, index) => cities.indexOf(item) == index)\r\n                this.$store.commit(\"setCities\", uniquecities)\r\n                this.loading = false\r\n            }\r\n        },\r\n        routeTo(id) {\r\n            this.$router.push({name: 'RestaurantDeatil', params: {id}})\r\n        },\r\n        close() {\r\n            this.$store.commit(\"toggleSnackbar\")\r\n        },\r\n        checkFoodOrderable(restaurants) {\r\n            if(this.$store.getters.isFoodOrderable) {\r\n                return restaurants.filter(restaurant => restaurant.food_orderable == true)\r\n            } else {\r\n                return restaurants\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Restaurants.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Restaurants.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Restaurants.vue?vue&type=template&id=173f25f2&\"\nimport script from \"./Restaurants.vue?vue&type=script&lang=js&\"\nexport * from \"./Restaurants.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardTitle,VCol,VContainer,VDivider,VIcon,VRow,VSpacer})\n"],"sourceRoot":""}